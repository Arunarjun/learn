<div class="page-header">
    <h1>
        List of Notes
        <div class="btn-group pull-right">
            <a role="button" class="btn btn-default" (click)="openEmptyFormNote()">New Note</a>
        </div>
    </h1>      
</div>

<div *ngFor="let note of notes" class="panel panel-notepad">
    <div class="panel-heading">
        <strong>{{ note.title }}</strong>
        <span class="pull-right">
            <strong><em>{{ note.category.label }}</em></strong>
        </span>
    </div>
    <div class="panel-body">{{ note.content }}</div>
    <div class="panel-footer">
        <a role="button" class="btn btn-primary" (click)="openFormNote(note)">
        <i class="fa fa-pencil-square-o fa-lg" aria-hidden="true"></i>  Edit</a>
        <a role="button" class="btn btn-danger" (click)="openDeleteNote(note)">
        <i class="fa fa-trash-o fa-lg" aria-hidden="true"></i>  Delete</a>
        <em class="pull-right">{{ note.date | date : "dd/MM/y" }}</em>
    </div>
</div>

<modal formNote #formNote>
    <modal-header>
        <a role="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </a>
        <h4 class="modal-title">New Note</h4>
    </modal-header>
    <modal-body>
        <notes-form [modNote]="modNote" [modNoteDate]="modNoteDate"></notes-form>
        <!--
        <div class="form-group">
            <label for="title">Title</label>
            <input type="text" class="form-control" id="title" [(ngModel)]="modNote.title">
        </div>
        <div class="form-group">
            <label for="content">Content</label>
            <textarea class="form-control" rows="4" id="content" [(ngModel)]="modNote.content">
            {{ modNote.content }}</textarea>
        </div>
        <div class="form-group">
            <label for="date">Date</label>
            <input type="date" class="form-control" id="date" 
            [(ngModel)]="modDate">
        </div>
        <div class="form-group">
            <label for="category">Choose Category</label>
            <select class="form-control" id="category">
                <option *ngFor="let category of categories"
                [selected]="modNote.category.label == category.label">
                {{ category.label }}</option>
            </select>
        </div>
        -->
    </modal-body>
    <modal-footer>
        <a role="button" class="btn btn-default" data-dismiss="modal" 
        (click)="dismissFormNote()">Cancel</a>
        <a role="button" class="btn btn-primary" (click)="saveFormNote()">
        <i class="fa fa-paper-plane" aria-hidden="true"></i>  Save</a>
    </modal-footer>
</modal>

<modal deleteNote #deleteNote>
    <modal-header>
        <a role="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </a>
        <h4 class="modal-title">Delete Note</h4>
    </modal-header>
    <modal-body>
        Are you sure that you want to delete this note ?
    </modal-body>
    <modal-footer>
        <a role="button" class="btn btn-default" data-dismiss="modal" 
        (click)="dismissDeleteNote()">Cancel</a>
        <a role="button" class="btn btn-danger" (click)="deleteNote()">
        <i class="fa fa-trash-o fa-lg" aria-hidden="true"></i>  Delete</a>
    </modal-footer>
</modal>